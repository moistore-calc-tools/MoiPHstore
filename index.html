<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MoiPH Store â€¢ Legend of Ymir Diamonds</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
<style>
  :root{
    --txt:#fff7fb; --mut:#ccb9c1; --mut2:#a8989f;
    --green:#21d072; --blue:#1877f2; --discord:#5865f2;
    --ink:#09060a; --red1:#1a0f14; --red2:#120a10;
    --border: rgba(255,100,140,.18); --chip:#222027;
    --ring: conic-gradient(#ff2b63,#ff6ea0,#ff2b63);
  }
  *{box-sizing:border-box}
  html,body{margin:0;background:var(--ink);color:var(--txt);font-family:Poppins,system-ui,Segoe UI,Roboto,Arial,sans-serif}
  body::before{
    content:"";position:fixed;inset:-20% -20%;z-index:-3;pointer-events:none;
    background:
      radial-gradient(40% 30% at 15% 10%, rgba(255,40,100,.14), transparent 60%),
      radial-gradient(38% 28% at 85% 5%, rgba(200,20,80,.10), transparent 65%),
      radial-gradient(55% 40% at 50% 110%, rgba(255,30,100,.10), transparent 72%);
    filter: blur(10px) saturate(112%); animation:float 16s ease-in-out infinite alternate;
  }
  @keyframes float{to{transform:translate3d(1.2%,-1.2%,0)}}
  .wrap{max-width:760px;margin:auto;padding:16px 14px 120px}
  .title{display:flex;gap:10px;justify-content:center;font-weight:800;font-size:22px;letter-spacing:.4px;margin:6px 0 8px;text-shadow:0 0 10px rgba(255,70,120,.25)}
  .logoWrap{display:grid;place-items:center;margin:6px 0 8px}
  .logo{width:min(44vw,186px);aspect-ratio:1/1;border-radius:999px;position:relative;display:grid;place-items:center;background:radial-gradient(120px 110px at 50% 50%, #0e0a0d 40%, #000 100%);box-shadow:0 0 0 8px rgba(0,0,0,.55)}
  .logo .ring{position:absolute;inset:10px;border-radius:999px;background:var(--ring);filter:blur(.55px);-webkit-mask:radial-gradient(circle, transparent 61.5%, #000 63%);mask:radial-gradient(circle, transparent 61.5%, #000 63%);animation:spin 9s linear infinite;opacity:.55}
  @keyframes spin{to{transform:rotate(360deg)}}
  .logo img{width:82%;border-radius:999px;box-shadow:0 0 18px rgba(255,40,100,.28)}

  .section{background:linear-gradient(180deg,var(--red1),var(--red2));border:1px solid var(--border);border-radius:18px;padding:14px;box-shadow:0 0 16px rgba(255,40,100,.22)}
  .label{font-size:13px;color:#ccb9c1;margin:4px 2px 6px}
  .in{width:100%;border:1px solid rgba(255,120,160,.20);background:#0b090c;color:#fff;padding:14px;border-radius:14px;font-size:18px;outline:none;box-shadow:inset 0 0 14px rgba(255,20,80,.06), 0 0 12px rgba(255,40,100,.12)}
  .in:focus{border-color:#ff6aa1;box-shadow:0 0 0 3px rgba(255,60,110,.16)}
  .grid2{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:10px}
  .box{background:linear-gradient(180deg,#1a1218,#120e13);border:1px solid rgba(255,120,160,.18);border-radius:16px;padding:12px;text-align:center}
  .box h5{margin:0 0 4px;font-size:12px;color:#ccb9c1}
  .rateOut{font-weight:900;font-size:20px}
  .saveOut{font-weight:900;font-size:20px;color:#baffd6}
  .buy{display:block;width:100%;border:none;border-radius:14px;background:#21d072;color:#092112;font-weight:800;font-size:18px;padding:14px 16px;margin-top:12px;box-shadow:0 18px 44px rgba(33,208,114,.24), inset 0 -6px 0 rgba(0,0,0,.12);cursor:pointer}

  .pay{background:linear-gradient(180deg,#11111a,#0b0c12);border:1px solid rgba(24,119,242,.18);border-radius:18px;padding:12px 14px;box-shadow:0 0 18px rgba(24,119,242,.12);margin-top:14px}
  .rowPay{display:flex;align-items:center;gap:12px;justify-content:space-between;background:rgba(24,119,242,.08);border:1px solid rgba(24,119,242,.28);padding:10px 12px;border-radius:12px;max-width:560px;margin:8px auto 10px;font-weight:800}
  .leftPay{display:flex;align-items:center;gap:10px}
  .gcIco{width:26px;height:26px;border-radius:999px;background:#1877f2;display:grid;place-items:center;color:#fff;font-weight:900;box-shadow:0 0 10px rgba(24,119,242,.35), inset 0 0 8px rgba(255,255,255,.14)}
  .qrBtn{display:inline-flex;gap:8px;align-items:center;background:rgba(24,119,242,.14);color:#eaf3ff;border:1px solid rgba(24,119,242,.38);padding:8px 12px;border-radius:10px;font-weight:800}

  .modal{position:fixed;inset:0;background:rgba(0,0,0,.6);display:none;place-items:center;z-index:50}
  .card{width:min(92vw,520px);background:#0f0d10;border:1px solid var(--border);border-radius:18px;padding:18px;text-align:center}
  .qrImg{max-width:86vw;max-height:70vh;border-radius:12px;border:1px solid rgba(255,255,255,.15);box-shadow:0 12px 36px rgba(0,0,0,.45)}
  .note{font-size:12px;color:#a8989f;margin-top:6px}
  @media (max-width:560px){ .grid2{grid-template-columns:1fr} }
</style>
</head>
<body>
  <div class="wrap">
    <div class="title">MoiPH Store ðŸ’Ž</div>
    <div class="logoWrap">
      <div class="logo">
        <div class="ring"></div>
        <img src="logo.png" alt="Logo">
      </div>
    </div>

    <!-- Calculator -->
    <div class="section">
      <div class="label">Enter Diamonds ðŸ’Ž</div>
      <input id="dias" class="in" inputmode="numeric" placeholder="e.g. 1500" autocomplete="off">
      <div class="label" style="margin-top:10px">Server (Required)</div>
      <input id="serverIn" class="in" placeholder="Type exact server (e.g., ASIA-022 / HOF1)" autocomplete="off">
      <div class="grid2">
        <div class="box"><h5>Rate</h5><div id="rateOut" class="rateOut">â‚±0.80</div></div>
        <div class="box"><h5>Total</h5><div id="totalOut" class="rateOut">â€”</div></div>
      </div>
      <button id="buyBtn" class="buy" disabled>ðŸ’Ž Buy</button>
      <div class="note" id="hint">Enter at least 1,000 dias, then type your server.</div>
    </div>

    <!-- Payments -->
    <div class="pay">
      <div class="rowPay" id="gcashRow">
        <div class="leftPay">
          <div class="gcIco">G</div>
          GCash â€¢ <strong>09162466318 â€” MOISES B.</strong>
        </div>
        <button class="qrBtn" id="showGCQR">ðŸ§¾ Show QR</button>
      </div>

      <div class="rowPay" style="background:rgba(0,214,231,.08);border-color:rgba(0,214,231,.35)">
        <div class="leftPay">
          <svg width="26" height="26" viewBox="0 0 32 32" aria-hidden="true"
               style="border-radius:999px; box-shadow:0 0 10px rgba(0,214,231,.35)">
            <defs><linearGradient id="goTeal" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0" stop-color="#00D6E7"/><stop offset="1" stop-color="#00BFD3"/>
            </linearGradient></defs>
            <rect width="32" height="32" rx="16" fill="url(#goTeal)"/>
            <path d="M10.5 16a5.5 5.5 0 1 1 11 0 5.5 5.5 0 0 1-11 0zm2.6 0a2.9 2.9 0 1 0 5.8 0 2.9 2.9 0 0 0-5.8 0z" fill="#00353A" opacity=".95"/>
          </svg>
          GoTyme â€¢ <strong>014664932955 â€” MOISES BITONIO</strong>
        </div>
        <button class="qrBtn" id="showGoQR">ðŸ§¾ Show QR</button>
      </div>
    </div>

    <!-- Modals -->
    <div class="modal" id="qrGCash">
      <div class="card">
        <h3>GCash QR</h3>
        <img src="gcash-qr.png" alt="GCash QR" class="qrImg">
        <div class="note">Scan to pay â€¢ <strong>MOISES B.</strong></div>
        <button class="qrBtn" onclick="closeModals()">Close</button>
      </div>
    </div>

    <div class="modal" id="qrGo">
      <div class="card">
        <h3>GoTyme QR</h3>
        <img src="gotyme-qr.png" alt="GoTyme QR" class="qrImg">
        <div class="note">Scan to pay â€¢ <strong>MOISES BITONIO</strong></div>
        <button class="qrBtn" onclick="closeModals()">Close</button>
      </div>
    </div>

    <!-- Buy popup (15s info) -->
    <div class="modal" id="buyInfo">
      <div class="card">
        <h3>Order Copied âœ”</h3>
        <p><b>Paste the message in my Messenger chat</b> then send it to <b>MOISES BITONIO</b> so I can process your drop.</p>
        <p class="note" id="countdown">Redirecting to Messenger in 15sâ€¦</p>
        <button class="qrBtn" id="goNow">Go now</button>
      </div>
    </div>
  </div>

<script>
(function(){
  const $ = (id)=>document.getElementById(id);
  const clamp = (n,min,max)=>Math.max(min,Math.min(max,n));
  const diasIn = $('dias'), serverIn = $('serverIn');
  const rateOut = $('rateOut'), totalOut = $('totalOut');
  const buyBtn = $('buyBtn'), hint = $('hint');

  const R1 = 0.80, R2 = 0.75, R3 = 0.70; // 1kâ€“3999, 4kâ€“7999, 8k+
  function activeRate(q){
    if(q>=8000) return R3;
    if(q>=4000) return R2;
    return R1;
  }
  function fmt(n){return Number(n).toLocaleString(undefined,{minimumFractionDigits:2,maximumFractionDigits:2});}
  function onlyInt(v){return v.replace(/[^\d]/g,'');}

  diasIn.addEventListener('input', ()=>{
    const raw = onlyInt(diasIn.value);
    diasIn.value = raw; // no auto-1k; stays exactly what user types
    const q = parseInt(raw||'0',10);
    if(q>0){
      const rt = activeRate(q);
      rateOut.textContent = 'â‚±'+rt.toFixed(2);
      totalOut.textContent = 'â‚±'+fmt(q*rt);
    }else{
      rateOut.textContent = 'â‚±0.80';
      totalOut.textContent = 'â€”';
    }
    validate();
  });

  serverIn.addEventListener('input', validate);

  function validate(){
    const q = parseInt(diasIn.value||'0',10);
    const ok = q>=1000 && serverIn.value.trim().length>0;
    buyBtn.disabled = !ok;
    hint.textContent = ok ? 'Ready to order.' : 'Enter at least 1,000 dias, then type your server.';
  }

  // QR modals
  $('showGCQR').onclick = ()=>{$('qrGCash').style.display='grid'};
  $('showGoQR').onclick  = ()=>{$('qrGo').style.display='grid'};
  window.closeModals = ()=>{['qrGCash','qrGo','buyInfo'].forEach(id=>$(id).style.display='none')};

  // Buy flow -> copy + 15s popup then Messenger
  buyBtn.addEventListener('click', ()=>{
    const q = parseInt(diasIn.value||'0',10);
    const rt = activeRate(q);
    const total = (q*rt).toFixed(2);

    const order = [
      'ORDER â€” Legend of Ymir ðŸ’Ž',
      'Buyer: MOISES BITONIO',
      'Server: '+serverIn.value.trim(),
      'Diamonds: '+q.toLocaleString()+' ðŸ’Ž',
      'Rate: â‚±'+rt.toFixed(2),
      'Total: â‚±'+total,
      'Note: Paste this in Messenger and send.'
    ].join('\n');

    // copy
    try{ navigator.clipboard.writeText(order);}catch(_){}

    // show popup 15s, then open Messenger
    $('buyInfo').style.display='grid';
    let s = 15; const cd = $('countdown');
    cd.textContent = 'Redirecting to Messenger in '+s+'sâ€¦';
    const url = 'https://m.me/mbitonio?text='+encodeURIComponent(order);
    const iv = setInterval(()=>{
      s--; cd.textContent = 'Redirecting to Messenger in '+s+'sâ€¦';
      if(s<=0){ clearInterval(iv); window.location.href = url; }
    },1000);
    $('goNow').onclick = ()=>{ clearInterval(iv); window.location.href = url; };
  });

})();
</script>
</body>
</html>